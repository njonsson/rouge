Array.prototype.collect=function(block){var result=[];this.each(function(item){result[result.length]=block(item);});return result;};Array.prototype.each=function(block){return this.eachWithIndex(block);};Array.prototype.eachWithIndex=function(block){for(var i=0;i<this.length;i+=1){block(this[i],i);}
return this;};